(this["webpackJsonpmeme-generator"]=this["webpackJsonpmeme-generator"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),m=(a(16),a(5)),s=a.n(m),i=(a(17),a(1)),o=a(6),u=a(7),h=a(9),d=a(8),g=a(10),p=a(2),E=function(e){var t=e.data,a=t.url,n=t.name,c=e.clickEvent;return r.a.createElement("div",{onClick:c},r.a.createElement("img",{src:a,alt:n,style:{width:200,height:200}}),r.a.createElement("div",null,n))},b=function(e){var t=e.data,a=t.text0,n=t.text1,c=t.sharableMeme,l=e.data.cmData,m=l.name,s=l.url,i=e.clickEvent,o=e.createMemeEvent,u=e.changeHandler,h=e.shareMeme;return r.a.createElement("div",{id:"openModal",className:"modalDialog"},r.a.createElement("div",null,r.a.createElement("span",{onClick:i,title:"Close",className:"close"},"X"),r.a.createElement("h2",null,m),r.a.createElement("form",{className:"createform"},r.a.createElement("label",null,"Text0:"),r.a.createElement("textarea",{value:a,onChange:u,type:"text",name:"text0",id:"text0"}),r.a.createElement("br",null),r.a.createElement("label",null,"Text1: "),r.a.createElement("textarea",{value:n,onChange:u,type:"text",name:"text1",id:"text1"}),c.length<=0?r.a.createElement("div",{className:"memeImg"},r.a.createElement("img",{alt:m,src:s,style:{width:200,height:200}})):r.a.createElement("div",{className:"memeImg"},r.a.createElement("input",{id:"memeImg",type:"image",alt:m,src:c,style:{width:200,height:200}})),r.a.createElement("div",null,r.a.createElement("input",{type:"button",className:"creatememe",onClick:o,value:"Create Meme"}))),c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Share this meme to social media:"),r.a.createElement("button",{onClick:h,name:"fb",className:"shareButton"},r.a.createElement(p.a,null)),r.a.createElement("button",{onClick:h,name:"wa",className:"shareButton"},r.a.createElement(p.c,null)),r.a.createElement("button",{onClick:h,name:"tw",className:"shareButton"},r.a.createElement(p.b,null))):null))},v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).createMemePost=function(e){var t=new Request("".concat("https://api.imgflip.com/caption_image","?template_id=").concat(e.cmData.id,"&username=").concat("dixant","&password=").concat("water!sg00d","&text0=").concat(e.text0,"&text1=").concat(e.text1),{method:"POST"});fetch(t).then((function(e){return e.json()})).then((function(e){if(!0===e.success){var t=Object(i.a)({},a.state.currentMemeData);t.sharableMeme=e.data.url,a.setState({currentMemeData:t})}}))},a.state={isLoading:!1,isError:!1,memeData:[],memeOpenModal:!1,currentMemeData:{text0:"",text1:"",cmData:{},sharableMeme:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"memeClicked",value:function(e,t){t.preventDefault();var a=Object(i.a)({},this.state.currentMemeData);a.cmData=e,this.setState({memeOpenModal:!0,currentMemeData:a})}},{key:"createMeme",value:function(e,t){t.preventDefault(),this.createMemePost(e)}},{key:"shareMeme",value:function(e){switch(e.stopPropagation(),e.currentTarget.name){case"fb":window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(this.state.currentMemeData.sharableMeme),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600");break;case"wa":var t=encodeURIComponent("".concat(this.state.currentMemeData.sharableMeme));console.log(t),fetch(this.state.currentMemeData.sharableMeme).then((function(e){return e.blob()})).then((function(e){console.log(e),navigator.share?navigator.share({title:"Meme",text:this.state.currentMemeData.cmData.name,url:t,file:e}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error sharing:",e)})):console.log("Web Share API is not supported in your browser.")}));break;case"tw":window.open("https://twitter.com/share?url=".concat(this.state.currentMemeData.sharableMeme),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")}}},{key:"closeModal",value:function(e){var t=Object(i.a)({},this.state.currentMemeData);t.text0="",t.text1="",t.cmData={},t.sharableMeme="",this.setState({memeOpenModal:!1,currentMemeData:t})}},{key:"changeHandler",value:function(e){var t=Object(i.a)({},this.state.currentMemeData);t[e.target.name]=e.target.value,this.setState({currentMemeData:t})}},{key:"componentDidMount",value:function(){var e=this,t=new Request("https://api.imgflip.com/get_memes",{method:"GET"});this.setState({isLoading:!0}),fetch(t).then((function(e){return e.json()})).then((function(t){!0===t.success&&e.setState({memeData:t.data.memes,isLoading:!1,isError:!1})})).catch((function(t){e.setState({isError:!0,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.memeData,n=t.isLoading,c=t.isError,l=t.memeOpenModal,m=t.currentMemeData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"start with a basic meme template:"),r.a.createElement("div",{className:"flex-container"},a&&a.length>0?a.map((function(t,a){return r.a.createElement(E,{key:t.id,data:t,clickEvent:e.memeClicked.bind(e,t)})})):null,n&&r.a.createElement("div",null,"Loading..."),c&&r.a.createElement("div",null,"something went wrong!! Please try again")),l&&r.a.createElement(b,{data:m,shareMeme:this.shareMeme.bind(this),changeHandler:this.changeHandler.bind(this),clickEvent:this.closeModal.bind(this),createMemeEvent:this.createMeme.bind(this,m)}))}}]),t}(r.a.PureComponent);var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",null,"Meme Generator")),r.a.createElement(v,null))};l.a.render(r.a.createElement(f,null),document.getElementById("root"))},5:function(e,t,a){e.exports=a.p+"static/media/meme-generator.2f0d6df3.png"}},[[11,1,2]]]);
//# sourceMappingURL=main.3cccd2ed.chunk.js.map